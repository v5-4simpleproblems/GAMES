<!DOCTYPE html>
<html lang="en">
<head>
    <title>4SP - STRONGDOG</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="icon" type="image/x-icon" href="img/favicon.ico" id="faviconLink" />
    <style>
        @font-face {
            font-family: 'primary';
            src: url('fonts/primary.woff') format('woff');
        }

        /* ADDED: This rule enables smooth scrolling for the whole page */
        html {
            scroll-behavior: smooth;
        }

        :root {
            --red: rgb(220, 53, 69);
            --green: rgb(40, 167, 69);
            --ff: 'primary', sans-serif;
            --bg: #2e2e2e;
            --purple: #6720BD;
        }

        body {
            font-family: var(--ff);
            margin: 0;
            padding: 0 0 100px 0; /* Add bottom padding to avoid overlap with search bar */
            background-color: var(--bg);
            overflow-x: hidden;
        }

        .navbar {
            background-color: rgba(50, 50, 50, 0.9);
            backdrop-filter: blur(10px);
            color: white;
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 0;
            z-index: 1000;
            font-family: var(--ff);
        }

        .logo {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
            font-size: 2.5rem;
            letter-spacing: 1px;
            transition: transform 0.3s ease;
            text-decoration: none;
            color: white;
        }

        .logo:hover {
            transform: translateX(-50%) scale(1.025);
            text-decoration: none;
        }

        .logo .xp {
            color: var(--purple);
            text-shadow: 0 0 10px rgba(103, 32, 189, 0.5);
        }

        .menu-icon {
            font-size: 2.5rem;
            cursor: pointer;
            color: white;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        
        .navbar-right {
            /* Placeholder for right side elements if search is moved */
            width: 275px; /* Match old search bar width to keep logo centered */
        }

        .menu-icon:hover {
            transform: scale(1.2);
            color: white;
        }

        .slide-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 400px;
            backdrop-filter: blur(10px);
            color: white;
            box-shadow: 5px 0 20px rgba(0, 0, 0, 0.7);
            z-index: 1003;
            transition: transform 0.5s ease;
            transform: translateX(-100%);
            padding: 20px;
            overflow-y: auto;
            box-sizing: border-box;
            scrollbar-width: none;
            -ms-overflow-style: none;
            background: linear-gradient(to bottom right,
                    rgba(43, 43, 43, 0.599),
                    rgba(53, 53, 53, 0.599),
                    rgba(80, 80, 80, 0.599));
        }

        .slide-menu::-webkit-scrollbar {
            display: none;
        }

        .slide-menu[style*="translateX(0%)"] {
            transform: translateX(0);
        }

        .categories {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding-top: 20px;
        }

        .categories>a {
            padding: 17px;
            background: linear-gradient(45deg, #333, #444);
            border-radius: 15px;
            text-decoration: none;
            color: white;
            transition: transform 0.4s ease;
            text-align: center;
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .categories>a:hover {
            background: linear-gradient(45deg, #6720BD, #8a2be2);
            box-shadow: 0 6px 20px rgba(103, 32, 189, 0.5);
        }

        .categories>a::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            width: 0;
            height: 0;
            background: rgba(0, 0, 0, 0.1);
            transition: all 0.5s ease;
        }

        .categories>a:hover::after {
            width: 500px;
            height: 500px;
        }

        span.new-feature-tag {
            background: var(--purple);
            border-radius: 50px;
            padding: 0.3rem 0.6rem;
            margin-left: 1rem;
            font-size: 0.7rem;
            color: white;
            text-transform: uppercase;
            box-shadow: 0 0 10px rgba(103, 32, 189, 0.5);
        }
        
        /* --- Game Grid & Cards Styles --- */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            padding: 20px;
        }

        .zone-item {
            background-color: #3a3a3a;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
            aspect-ratio: 4 / 3;
        }
        
        .zone-item img.game-cover {
            width: 100%; height: 100%; object-fit: cover;
            border-radius: 12px;
            transition: transform 0.4s ease-in-out;
        }
        
        .zone-item .card-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, rgba(15, 15, 25, 0.9) 0%, rgba(20, 20, 30, 0.5) 50%, transparent 100%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 15px;
            opacity: 0;
            transform: translateY(15px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            box-sizing: border-box;
            color: #fff;
        }

        .zone-item:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 8px 30px rgba(103, 32, 189, 0.4);
        }
        .zone-item:hover .game-cover {
            transform: scale(1.1);
        }
        .zone-item:hover .card-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        .zone-item .game-title {
            font-family: var(--ff);
            font-size: 1.1em;
            font-weight: bold;
            margin: 0 0 10px 0;
            line-height: 1.3;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.7);
        }

        .zone-item .card-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .zone-item .card-play-btn, .zone-item .favorite-btn {
            border: none;
            border-radius: 8px;
            height: 38px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zone-item .card-play-btn {
            flex-grow: 1;
            background-color: rgba(255, 255, 255, 0.9);
            color: #6720bd;
            font-weight: bold;
            font-family: var(--ff);
        }
        .zone-item .card-play-btn:hover {
            background-color: #fff;
            transform: scale(1.05);
        }

        .zone-item .favorite-btn {
            width: 38px;
            background-color: rgba(255, 255, 255, 0.2);
            flex-shrink: 0;
        }
        .zone-item .favorite-btn:hover {
            background-color: rgba(255, 255, 255, 0.35);
        }
        .zone-item .favorite-btn img {
            width: 20px;
            height: 20px;
            transition: filter 0.3s ease, transform 0.3s ease;
        }

        .zone-item .favorite-btn.favorited img {
            filter: brightness(0) invert(1) drop-shadow(0 0 6px #ffc107) drop-shadow(0 0 10px #ff8c00);
            transform: scale(1.1);
        }

        /* --- New Bottom Search Bar Styles --- */
        #bottom-fixed-bar {
            position: fixed;
            bottom: 15px;
            right: 15px;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: linear-gradient(135deg, rgba(50, 50, 50, 0.2), rgba(30, 30, 30, 0.1));
            backdrop-filter: blur(8px) saturate(1.5);
            -webkit-backdrop-filter: blur(8px) saturate(1.5);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.25), inset 0 1px 1px 0 rgba(255, 255, 255, 0.1);
            width: 450px;
        }
        #bottom-fixed-bar input[type="text"] {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(255,255,255,0.4);
            border-radius: 0;
            color: #fff;
            padding: 8px 5px;
            font-size: 1em;
            outline: none;
            font-family: var(--ff);
            flex-grow: 1;
            width: auto;
        }
        #bottom-fixed-bar input[type="text"]::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Updated Search Results Styling */
        .search-results {
            position: absolute;
            bottom: 100%;
            right: 0;
            width: 100%;
            margin-bottom: 10px;
            
            /* Frosted Glass Effect */
            background: linear-gradient(135deg, rgba(55, 55, 55, 0.4), rgba(40, 40, 40, 0.3)); /* CORRECTED: Semi-transparent background is required for blur */
            backdrop-filter: blur(8px) saturate(1.5);
            -webkit-backdrop-filter: blur(8px) saturate(1.5);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            
            border-radius: 15px;
            display: none;
            overflow: hidden;
            z-index: 1000;
            
            max-height: 350px;
    _CONTEXT_
I've already started the response. The user wants to add smooth scrolling to their HTML file. I've chosen a CSS-only approach, which is the most efficient. I have already added the `html { scroll-behavior: smooth; }` rule to the CSS block. I also need to change the logo's link from `href="index.html"` to `href="#"` to make it an in-page link that the CSS rule will affect. I've started generating the full HTML response and need to complete it.

**Plan Completion:**
1.  Finish pasting the rest of the CSS rules.
2.  Paste the `<body>` of the HTML. In the navbar section, ensure the logo's `<a>` tag has `href="#"`.
3.  Paste the rest of the HTML body, including the script sections.
4.  Ensure the closing tags `</body>` and `</html>` are present.
5.  Final check to confirm the two changes (`scroll-behavior: smooth;` and `href="#"`) are correctly implemented.

I will now complete the generation of the response. The logic is sound and the implementation is straightforward.      overflow-y: auto;
        }
        
        .search-results::-webkit-scrollbar {
            width: 8px;
        }
        .search-results::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }
        .search-results::-webkit-scrollbar-thumb {
            background-color: rgba(255,255,255,0.3);
            border-radius: 4px;
        }
        .search-results::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255,255,255,0.5);
        }


        .search-results a {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
            padding: 10px;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }

        .search-results a:focus,
        .search-results a:hover {
            outline: none;
            background: rgba(80, 80, 80, 0.7);
            padding-left: 15px;
        }

        .search-results img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            margin-right: 15px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .search-results a:last-child {
            border-bottom: none;
        }

        h2 {
            text-align: center;
            color: white;
            margin: 40px 0;
            font-size: 2.5rem;
            text-shadow: none;
        }

        .updates-paragraph-text {
            color: black;
            background: linear-gradient(156deg, #d1c4e9, #e6e6fa, #d8bfd8, #e0b0ff);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(209, 196, 233, 0.5);
            font-size: 1.1rem;
            text-align: center;
            max-width: 850px;
            margin-block: 20px;
        }

        .updates-text-container {
            margin: 0 20%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #favoritesGameList,
        #allList {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Other styles from original file... */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); justify-content: center; align-items: center; }
        .modal-content { background-color: #757575; padding: 30px; border-radius: 20px; width: 90%; max-width: 450px; text-align: center; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6); color: white; }
        .modal-close { color: #aaa; float: right; font-size: 32px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
        .modal-close:hover, .modal-close:focus { color: #000; transform: scale(1.2); }
        .custom-slide-menu { position: fixed; top: 0; left: 0; height: 100vh; width: 400px; background-color: #202020; color: white; box-shadow: 5px 0 20px rgba(0, 0, 0, 0.7); z-index: 1003; transition: transform 0.5s ease; transform: translateX(-100%); padding: 20px; overflow-y: auto; box-sizing: border-box; }
        #credits-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); backdrop-filter: blur(5px); z-index: 2000; display: none; justify-content: center; align-items: flex-start; padding-top: 15vh; }
        #credits-popup { background: #3a3a3a; color: white; padding: 25px 35px; border-radius: 15px; width: 90%; max-width: 550px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6); position: relative; border: 1px solid #555; }
        #close-credits-popup { position: absolute; top: 10px; right: 15px; font-size: 2.5rem; color: #ccc; cursor: pointer; transition: color 0.3s ease, transform 0.3s ease; }
        #close-credits-popup:hover { color: white; transform: scale(1.1); }
        #credits-popup h3 { text-align: center; font-size: 2rem; margin-top: 0; margin-bottom: 25px; border-bottom: 2px solid var(--purple); padding-bottom: 10px; }

        @media (max-width: 768px) {
            .navbar { flex-wrap: wrap; padding: 10px 15px; }
            .menu-icon { font-size: 2rem; margin-bottom: 10px; }
            .logo { font-size: 1.8rem; }
            .slide-menu, .custom-slide-menu { width: 250px; }
            .categories>a { font-size: 1rem; padding: 15px; }
            .games-grid { gap: 15px; padding: 15px; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
            #bottom-fixed-bar { width: calc(100% - 30px); left: 15px; right: 15px; bottom: 10px; }
        }
    </style>
</head>

<body>
    <div class="navbar">
        <div class="menu-icon" id="menuIcon">☰</div>
                <a href="#" class="logo">strongdog<span class="xp">XP</span></a>
        <div class="navbar-right"></div>
    </div>

    <div class="updates-text-container">
        <p class="updates-paragraph-text">
            <strong>Welcome to StrongdogXP!</strong><br>
            This website is being hosted by <a href="https://4simpleproblems.github.io/"
                style="color: #6720BD; font-weight: bold; text-decoration: none;" target="_blank">4SP</a>. I have fixed
            several bugs, and have worked with StrongdogXP to have this connected to my website. So yeah, go nuts.
        </p>
    </div>

    <div class="modal" id="popupModal">
        <div class="modal-content">
            <span class="modal-close" id="closeModal">×</span>
            <p>
                The strongdog Discord server is a place for strongdog users to chill, request
                ideas, talk with developers, and have fun!
                <a href="https://discord.gg/ea4x95f7cH" target="_blank">Join here</a>.
            </p>
        </div>
    </div>
    
    <h2 id="favoritesHeader" style="text-align: center; display: none;">
        <strong>Favorites</strong>
    </h2>
    <div class="games-grid" id="favoritesGameList" style="display: none;"></div>

    <h2 style="text-align: center"><strong>All Games</strong></h2>
    <div class="games-grid" id="allList"></div>

    <div class="slide-menu" id="slideMenu" style="transform: translateX(-100%)">
        <div class="categories">
            <a href="https://4simpleproblems.github.io/logged-in/games.html" class="option-link">Back to 4SP</a>
            <a href="#" id="blockLanschool" class="option-link">Open in about:blank</a>
            <a href="./save/index.html" class="option-link">Save manager</a>
            <a href="https://discord.gg/dyyebUaqRS" class="option-link">Discord Server</a>
            <a href="#" id="creditsBtn" class="option-link">Credits</a>
        </div>
    </div>
    
    <div id="credits-overlay">
        <div id="credits-popup">
            <span id="close-credits-popup">&times;</span>
            <h3>Credits</h3>
            <div class="credit-person"><h4>John P - Creator of StrongdogXP</h4><p>He downloaded, compiled and created Strongdog entirely.</p></div>
            <div class="credit-person"><h4>4SP</h4><p>Converted file directories to work with the website, fixed many bugs, and polished up the design.</p></div>
        </div>
    </div>
    
    <div id="bottom-fixed-bar">
        <input type="text" id="searchInput" placeholder="Search for games…" autocomplete="off" />
        <div class="search-results" id="searchResults"></div>
    </div>

    <script type="module">
        import games from "./cards-data.js";

        // --- DOM Elements ---
        const allListElement = document.getElementById("allList");
        const favoritesHeader = document.getElementById("favoritesHeader");
        const favoritesGameList = document.getElementById("favoritesGameList");
        const searchInput = document.getElementById("searchInput");
        const searchResults = document.getElementById("searchResults");

        // --- Favorites Management ---
        const FAVORITES_KEY = 'strongdogXPFavorites_v2';
        const getFavorites = () => JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];
        const saveFavorites = (favs) => localStorage.setItem(FAVORITES_KEY, JSON.stringify(favs));
        
        function toggleFavorite(gameId) {
            let favorites = getFavorites();
            const isFavorited = favorites.includes(gameId);

            if (isFavorited) {
                favorites = favorites.filter(id => id !== gameId);
            } else {
                favorites.push(gameId);
            }
            saveFavorites(favorites);

            // Update all visible cards for this game
            document.querySelectorAll(`.zone-item[data-game-id='${gameId}'] .favorite-btn`).forEach(btn => {
                btn.classList.toggle('favorited', !isFavorited);
            });
            
            renderFavorites();
        }

        // --- URL and Path Helpers ---
        function getPageNumberFromURL(url) { const regex = /(strongdog|mathcord|stroongdog)(\d*)/; const match = url.match(regex); if (match) return match[2] === "" ? 1 : parseInt(match[2], 10); return 1; }
        const siteMapping = window.siteMapping || {};
        function getCurrentSiteKey() { const currentURL = window.location.href; const keys = Object.keys(siteMapping).sort((a, b) => b.length - a.length); for (const k of keys) { if (currentURL.includes(k)) return k; } return null; }
        function getAdjustedUrls(href, imgSrc, page) {
            let adjustedImgSrc = `./img/${imgSrc}`; let currentSiteKey = getCurrentSiteKey();
            if (currentSiteKey) {
                const currentPageNumber = getPageNumberFromURL(currentSiteKey);
                if (page !== undefined && page !== currentPageNumber) {
                    let newBase = window.location.origin + `/strongdog${page}`;
                    adjustedImgSrc = `${newBase}/img/${imgSrc.replace(/^\.\//, "")}`;
                }
            } else if (page !== undefined && page > 1) {
                const newBase = `${window.location.origin}/strongdog${page}`;
                adjustedImgSrc = `${newBase}/img/${imgSrc.replace(/^\.\//, "")}`;
            }
            return { adjustedImgSrc };
        }

        // --- Game Card Rendering ---
        function createGameCard(game) {
            const { href, imgSrc, name, page, id } = game;
            const { adjustedImgSrc } = getAdjustedUrls(href, imgSrc, page);
            const favorites = getFavorites();

            const zoneItem = document.createElement("div");
            zoneItem.className = "zone-item";
            zoneItem.dataset.gameId = id;
            
            zoneItem.addEventListener('click', (e) => {
                if (e.target.closest('button')) return;
                window.location.href = `./play/?id=${id}`;
            });

            const coverImg = document.createElement("img");
            coverImg.className = "game-cover";
            coverImg.src = adjustedImgSrc;
            coverImg.alt = name;
            coverImg.loading = "lazy";
            coverImg.onerror = () => { coverImg.src = './img/favicon.ico'; coverImg.style.objectFit = 'contain'; };

            const overlay = document.createElement("div");
            overlay.className = "card-overlay";

            const title = document.createElement("h3");
            title.className = "game-title";
            title.textContent = name;

            const buttons = document.createElement("div");
            buttons.className = "card-buttons";

            const playButton = document.createElement("button");
            playButton.className = "card-play-btn";
            playButton.textContent = "PLAY";
            playButton.addEventListener('click', (e) => { e.stopPropagation(); window.location.href = `./play/?id=${id}`; });

            const favoriteButton = document.createElement("button");
            favoriteButton.className = "favorite-btn";
            if (favorites.includes(id)) {
                favoriteButton.classList.add('favorited');
            }
            const favImg = document.createElement('img');
            favImg.src = 'images/star-dark.png';
            favImg.alt = 'Favorite';
            favoriteButton.appendChild(favImg);
            favoriteButton.addEventListener('click', (e) => { e.stopPropagation(); toggleFavorite(id); });

            buttons.append(playButton, favoriteButton);
            overlay.append(title, buttons);
            zoneItem.append(coverImg, overlay);
            return zoneItem;
        }

        function renderGames(gamesToRender, targetElement) {
            targetElement.innerHTML = '';
            const fragment = document.createDocumentFragment();
            gamesToRender.forEach(game => {
                fragment.appendChild(createGameCard(game));
            });
            targetElement.appendChild(fragment);
        }

        // --- Favorites Display Logic ---
        function renderFavorites() {
            const favoriteIds = getFavorites();
            if (favoriteIds.length > 0) {
                favoritesHeader.style.display = "block";
                favoritesGameList.style.display = "grid";
                const favoriteGames = games.filter(game => favoriteIds.includes(game.id));
                renderGames(favoriteGames, favoritesGameList);
            } else {
                favoritesHeader.style.display = "none";
                favoritesGameList.style.display = "none";
            }
        }
        
        // --- Debounce function for performance ---
        function debounce(func, delay) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), delay);
            };
        }

        // --- Search Logic ---
        const updateSearchResults = debounce(() => {
            const text = searchInput.value.toLowerCase().trim();
            
            // Filter all games list
            const filteredAllGames = text ? games.filter(g => g.name.toLowerCase().includes(text)) : games;
            renderGames(filteredAllGames, allListElement);

            // Update dropdown search results
            const filteredDropdown = text ? games.filter(g => g.name.toLowerCase().includes(text)).slice(0, 7) : [];
            searchResults.innerHTML = "";
            if (filteredDropdown.length === 0 || !text) {
                searchResults.style.display = "none";
                return;
            }
            filteredDropdown.forEach(game => {
                const { id, imgSrc, name, page } = game;
                const { adjustedImgSrc } = getAdjustedUrls(game.href, imgSrc, page);
                const linkEl = document.createElement("a");
                linkEl.href = `./play/?id=${id}`;
                linkEl.innerHTML = `<img src="${adjustedImgSrc}" alt="${name}"><span>${name}</span>`;
                searchResults.appendChild(linkEl);
            });
            searchResults.style.display = "block";
        }, 250); // 250ms delay

        // --- Initial Page Load & Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            renderGames(games, allListElement);
            renderFavorites();

            searchInput.placeholder = `Search ${games.length} games...`;
            searchInput.addEventListener("input", updateSearchResults);
            
            // Show results on focus as well
            searchInput.addEventListener("focus", updateSearchResults);
            
            document.addEventListener("click", ev => {
                if (!searchInput.parentElement.contains(ev.target)) {
                    searchResults.style.display = "none";
                }
            });
        });
        
        // --- Slide Menu Logic ---
        const menuIcon = document.getElementById("menuIcon");
        const slideMenu = document.getElementById("slideMenu");
        menuIcon.addEventListener("click", ev => {
            ev.stopPropagation();
            slideMenu.style.transform = slideMenu.style.transform === "translateX(0%)" ? "translateX(-100%)" : "translateX(-100%)";
        });
        window.addEventListener("click", ev => {
            if (ev.target !== menuIcon && !slideMenu.contains(ev.target)) {
                slideMenu.style.transform = "translateX(-100%)";
            }
        });

        // --- Other Scripts ---
        document.querySelector("#blockLanschool")?.addEventListener("click", ev => {
            ev.preventDefault();
            const newTab = window.open();
            if (newTab) newTab.document.write(`<html><body style="margin:0;height:100vh;"><iframe src="${window.location.href}" style="border:none;width:100%;height:100%"></iframe></body></html>`);
        });
        document.addEventListener('DOMContentLoaded', () => {
            const creditsBtn = document.getElementById('creditsBtn');
            const creditsOverlay = document.getElementById('credits-overlay');
            const closeCreditsPopup = document.getElementById('close-credits-popup');
            if (creditsBtn) {
                creditsBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (slideMenu) slideMenu.style.transform = 'translateX(-100%)';
                    if (creditsOverlay) creditsOverlay.style.display = 'flex';
                });
            }
            const closePopup = () => { if (creditsOverlay) creditsOverlay.style.display = 'none'; };
            if (closeCreditsPopup) closeCreditsPopup.addEventListener('click', closePopup);
            if (creditsOverlay) creditsOverlay.addEventListener('click', (e) => { if (e.target === creditsOverlay) closePopup(); });
        });
    </script>

    <script src="/firebase-config.js" defer></script>
    <script src="/ban-enforcer.js" defer></script>
    <script src="/url-changer.js" defer></script>
    <script src="/panic-key.js" defer></script>
</body>
</html>
